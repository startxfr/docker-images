##
## STAGES
##

# Build the ansible gitlab-runner image 
build-runner-ansible:
  stage: "build Runners"
  extends: .build-image
  allow_failure: true
  variables:
    SXDI_PATH: 'GitlabRunner/ansible'
    SXDI_DOCKERNAME: 'runner-ansible'
    SXDI_QUAYNAME: 'runner-ansible'
    SXDI_TAG: ${SXDI_OTHERTAG}

# Build the apache gitlab-runner image 
build-runner-apache:
  stage: "build Runners"
  extends: .build-image
  allow_failure: true
  variables:
    SXDI_PATH: 'GitlabRunner/apache'
    SXDI_DOCKERNAME: 'runner-apache'
    SXDI_QUAYNAME: 'runner-apache'
    SXDI_TAG: ${SXDI_OTHERTAG}

# Build the nodejs gitlab-runner image 
build-runner-nodejs:
  stage: "build Runners"
  extends: .build-image
  allow_failure: true
  variables:
    SXDI_PATH: 'GitlabRunner/nodejs'
    SXDI_DOCKERNAME: 'runner-nodejs'
    SXDI_QUAYNAME: 'runner-nodejs'
    SXDI_TAG: ${SXDI_OTHERTAG}

# Build the oc gitlab-runner image 
build-runner-oc:
  stage: "build Runners"
  extends: .build-image
  allow_failure: true
  variables:
    SXDI_PATH: 'GitlabRunner/oc'
    SXDI_DOCKERNAME: 'runner-oc'
    SXDI_QUAYNAME: 'runner-oc'
    SXDI_TAG: ${SXDI_OTHERTAG}

# Build the php gitlab-runner image 
build-runner-php:
  stage: "build Runners"
  extends: .build-image
  allow_failure: true
  variables:
    SXDI_PATH: 'GitlabRunner/php'
    SXDI_DOCKERNAME: 'runner-php'
    SXDI_QUAYNAME: 'runner-php'
    SXDI_TAG: ${SXDI_OTHERTAG}